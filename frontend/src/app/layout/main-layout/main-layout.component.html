<app-header />

<div class="layout-body">
  <nav class="sidebar">
    <ul class="menu-list">
      <li>
        <button class="menu-btn" (click)="openModal('create')">
          <span class="menu-icon">Ôºã</span> Criar Nova Task
        </button>
      </li>
      <li>
        <button class="menu-btn" (click)="openModal('search')">
          <span class="menu-icon">üîç</span> Procurar Task
        </button>
      </li>
      <li>
        <button class="menu-btn" (click)="openModal('edit')">
          <span class="menu-icon">‚úé</span> Editar Task
        </button>
      </li>
      <li>
        <button class="menu-btn" (click)="openModal('delete')">
          <span class="menu-icon">‚úï</span> Excluir Task
        </button>
      </li>
    </ul>
  </nav>

  <main class="main-content">
    <app-task-board
      [refreshTrigger]="refreshTrigger"
      (tasksLoaded)="onTasksLoaded($event)" />
  </main>
</div>

<app-footer />

<!-- Modais -->
@if (activeModal === 'create') {
  <app-modal-create (close)="closeModal()" (created)="onRefresh()" />
}
@if (activeModal === 'edit') {
  <app-modal-edit [tasks]="allTasks" (close)="closeModal()" (updated)="onRefresh()" />
}
@if (activeModal === 'delete') {
  <app-modal-delete [tasks]="allTasks" (close)="closeModal()" (deleted)="onRefresh()" />
}
@if (activeModal === 'search') {
  <app-modal-search (close)="closeModal()" />
}

